{"version":3,"file":"prescreener/condition-multiselect.js","names":["fetchJSON","url","fetch","headers","then","r","ok","Error","status","json","normalise","s","toString","toLowerCase","templateOption","text","i","checked","active","templateChip","ConditionMultiselect","cfg","$input","document","querySelector","input","$listbox","listbox","$dropdown","dropdown","$chips","chips","$hidden","hidden","$count","count","source","all","filtered","selected","Set","window","CRPDATA","activeIndex","bindBase","load","prototype","map","item","name","slice","render","catch","err","console","error","message","self","addEventListener","open","q","value","filter","c","includes","length","renderList","e","key","isOpen","preventDefault","move","toggleActive","close","target","closest","parseInt","getAttribute","focus","delta","max","Math","min","setAttribute","highlightActive","ensureActiveInView","has","delete","add","renderChips","syncHidden","updateCount","html","t","join","innerHTML","items","Array","from","values","querySelectorAll","forEach","btn","val","escapeHTML","textContent","size","el","classList","toggle","parent","top","offsetTop","bottom","offsetHeight","viewTop","scrollTop","viewBottom","clientHeight","d","createElement","innerText","initConditionMultiselect"],"sources":["prescreener/condition-multiselect.js"],"sourcesContent":["/* public/js/prescreener/condition-multiselect.js */\n/* eslint-disable */\n(function () {\n  function fetchJSON (url) {\n    return fetch(url, { headers: { 'Accept': 'application/json' } }).then(r => {\n      if (!r.ok) throw new Error('Failed to load ' + url + ' -> ' + r.status)\n      return r.json()\n    })\n  }\n\n  function normalise (s) { return (s || '').toString().toLowerCase() }\n\n  function templateOption (text, i, checked, active) {\n    return `\n      <li id=\"opt-${i}\" class=\"crp-combobox__option ${active ? 'is-active' : ''}\"\n          role=\"option\" aria-selected=\"${checked ? 'true' : 'false'}\" data-index=\"${i}\">\n        <span class=\"crp-combobox__checkbox\" aria-hidden=\"true\">\n          <input type=\"checkbox\" tabindex=\"-1\" ${checked ? 'checked' : ''}/>\n        </span>\n        <span class=\"crp-combobox__text\">${text}</span>\n      </li>`\n  }\n\n  function templateChip (text) {\n    return `\n      <span class=\"crp-chip\">\n        <span class=\"crp-chip__text\">${text}</span>\n        <button type=\"button\" class=\"crp-chip__remove\" aria-label=\"Remove ${text}\" data-chip=\"${text}\">Ã—</button>\n      </span>`\n  }\n\n  function ConditionMultiselect (cfg) {\n    this.$input = document.querySelector(cfg.input)\n    this.$listbox = document.querySelector(cfg.listbox)\n    this.$dropdown = document.querySelector(cfg.dropdown)\n    this.$chips = document.querySelector(cfg.chips)\n    this.$hidden = document.querySelector(cfg.hidden)\n    this.$count = document.querySelector(cfg.count)\n    this.source = cfg.source\n\n    this.all = [] // array of strings\n    this.filtered = []\n    this.selected = new Set((window.CRPDATA && window.CRPDATA.selected) || [])\n\n    this.activeIndex = -1\n    this.bindBase()\n    this.load()\n  }\n\n  ConditionMultiselect.prototype.load = function () {\n    fetchJSON(this.source).then(json => {\n      // Accept either [{name:..}, ..] or [\"..\", \"..\"]\n      this.all = json.map(item => typeof item === 'string' ? item : item.name)\n      this.filtered = this.all.slice(0)\n      this.render()\n    }).catch(err => {\n      console.error('[conditions] ' + err.message)\n      this.all = []\n      this.filtered = []\n      this.render()\n    })\n  }\n\n  ConditionMultiselect.prototype.bindBase = function () {\n    var self = this\n\n    this.$input.addEventListener('focus', function () {\n      self.open()\n    })\n\n    this.$input.addEventListener('input', function () {\n      var q = normalise(self.$input.value)\n      self.filtered = self.all.filter(c => normalise(c).includes(q))\n      self.activeIndex = self.filtered.length ? 0 : -1\n      self.open()\n      self.renderList()\n    })\n\n    this.$input.addEventListener('keydown', function (e) {\n      var key = e.key\n      if (!self.isOpen() && (key === 'ArrowDown' || key === 'ArrowUp')) {\n        self.open()\n      }\n      if (key === 'ArrowDown') {\n        e.preventDefault()\n        self.move(1)\n      } else if (key === 'ArrowUp') {\n        e.preventDefault()\n        self.move(-1)\n      } else if (key === 'Enter' || key === ' ') {\n        if (self.isOpen() && self.activeIndex > -1) {\n          e.preventDefault()\n          self.toggleActive()\n        }\n      } else if (key === 'Escape') {\n        self.close()\n      }\n    })\n\n    document.addEventListener('click', function (e) {\n      if (!e.target.closest('.crp-combobox')) self.close()\n    })\n\n    this.$listbox.addEventListener('click', function (e) {\n      var item = e.target.closest('[data-index]')\n      if (!item) return\n      self.activeIndex = parseInt(item.getAttribute('data-index'), 10)\n      self.toggleActive()\n      self.$input.focus()\n    })\n  }\n\n  ConditionMultiselect.prototype.move = function (delta) {\n    var max = this.filtered.length - 1\n    if (max < 0) return\n    this.activeIndex = Math.max(0, Math.min(max, this.activeIndex + delta))\n    this.$input.setAttribute('aria-activedescendant', 'opt-' + this.activeIndex)\n    this.highlightActive()\n    this.ensureActiveInView()\n  }\n\n  ConditionMultiselect.prototype.toggleActive = function () {\n    var item = this.filtered[this.activeIndex]\n    if (!item) return\n    if (this.selected.has(item)) this.selected.delete(item)\n    else this.selected.add(item)\n    this.render()\n  }\n\n  ConditionMultiselect.prototype.render = function () {\n    this.renderList()\n    this.renderChips()\n    this.syncHidden()\n    this.updateCount()\n  }\n\n  ConditionMultiselect.prototype.renderList = function () {\n    var html = this.filtered.map((t, i) => templateOption(t, i, this.selected.has(t), i === this.activeIndex)).join('')\n    this.$listbox.innerHTML = html || '<li class=\"crp-combobox__empty\">No results</li>'\n  }\n\n  ConditionMultiselect.prototype.renderChips = function () {\n    var items = Array.from(this.selected.values())\n    this.$chips.innerHTML = items.map(templateChip).join('')\n\n    var self = this\n    this.$chips.querySelectorAll('.crp-chip__remove').forEach(function (btn) {\n      btn.addEventListener('click', function () {\n        var value = btn.getAttribute('data-chip')\n        self.selected.delete(value)\n        self.render()\n        self.$input.focus()\n      })\n    })\n  }\n\n  ConditionMultiselect.prototype.syncHidden = function () {\n    var items = Array.from(this.selected.values())\n    this.$hidden.innerHTML = items.map(val => `<input type=\"hidden\" name=\"conditions\" value=\"${escapeHTML(val)}\">`).join('')\n  }\n\n  ConditionMultiselect.prototype.updateCount = function () {\n    if (this.$count) this.$count.textContent = this.selected.size.toString()\n  }\n\n  ConditionMultiselect.prototype.isOpen = function () {\n    return this.$input.getAttribute('aria-expanded') === 'true'\n  }\n  ConditionMultiselect.prototype.open = function () {\n    this.$dropdown.hidden = false\n    this.$input.setAttribute('aria-expanded', 'true')\n  }\n  ConditionMultiselect.prototype.close = function () {\n    this.$dropdown.hidden = true\n    this.$input.setAttribute('aria-expanded', 'false')\n    this.activeIndex = -1\n    this.highlightActive()\n  }\n\n  ConditionMultiselect.prototype.highlightActive = function () {\n    this.$listbox.querySelectorAll('.crp-combobox__option').forEach((el, i) => {\n      el.classList.toggle('is-active', i === this.activeIndex)\n    })\n  }\n\n  ConditionMultiselect.prototype.ensureActiveInView = function () {\n    var el = this.$listbox.querySelector('[data-index=\"' + this.activeIndex + '\"]')\n    if (!el) return\n    var parent = this.$listbox\n    var top = el.offsetTop\n    var bottom = top + el.offsetHeight\n    var viewTop = parent.scrollTop\n    var viewBottom = viewTop + parent.clientHeight\n    if (top < viewTop) parent.scrollTop = top\n    else if (bottom > viewBottom) parent.scrollTop = bottom - parent.clientHeight\n  }\n\n  function escapeHTML (s) {\n    var d = document.createElement('div'); d.innerText = s; return d.innerHTML\n  }\n\n  window.initConditionMultiselect = function (cfg) {\n    new ConditionMultiselect(cfg)\n  }\n})()\n"],"mappings":"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","ignoreList":[]}