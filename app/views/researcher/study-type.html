{% extends "researcher/layout-researcher.html" %}
{% block pageTitle %}Study type{% endblock %}

{% block researcherContent %}
<h1 class="nhsuk-heading-l">Study type</h1>
<p class="nhsuk-body">Select the category that best describes this study.</p>

{% if errors and errors.length %}
<div class="nhsuk-error-summary" role="alert" tabindex="-1">
  <h2 class="nhsuk-error-summary__title">There is a problem</h2>
  <div class="nhsuk-error-summary__body">
    <ul class="nhsuk-list nhsuk-error-summary__list">
      {% for e in errors %}
        <li><a href="{{ e.href }}">{{ e.text }}</a></li>
      {% endfor %}
    </ul>
  </div>
</div>
{% endif %}

<form method="post" action="/researcher/study-type" novalidate>
  {% set v = model.category or '' %}

  <div class="nhsuk-form-group{% for e in errors %}{% if e.href=='#category' %} nhsuk-form-group--error{% endif %}{% endfor %}">
    <fieldset class="nhsuk-fieldset">
      <legend class="nhsuk-fieldset__legend">Category</legend>

      <div class="nhsuk-radios">
        <div class="nhsuk-radios__item">
          <input class="nhsuk-radios__input" id="type-portfolio" name="category" type="radio" value="portfolio"
            {% if v == 'portfolio' %}checked{% endif %}>
          <label class="nhsuk-label nhsuk-radios__label" for="type-portfolio">Portfolio</label>
        </div>

        <div class="nhsuk-radios__item">
          <input class="nhsuk-radios__input" id="type-nonportfolio" name="category" type="radio" value="non-portfolio"
            {% if v == 'non-portfolio' %}checked{% endif %}>
          <label class="nhsuk-label nhsuk-radios__label" for="type-nonportfolio">Non-portfolio</label>
        </div>

        <div class="nhsuk-radios__item">
          <input class="nhsuk-radios__input" id="type-other" name="category" type="radio" value="other"
            {% if v == 'other' %}checked{% endif %}>
          <label class="nhsuk-label nhsuk-radios__label" for="type-other">Other</label>
        </div>
      </div>
    </fieldset>
  </div>

  <div class="nhsuk-form-group">
    <label class="nhsuk-label" for="notes">Notes (optional)</label>
    <textarea class="nhsuk-textarea" id="notes" name="notes" rows="4">{{ model.notes or '' }}</textarea>
  </div>

  <div class="nhsuk-button-group">
    <button class="nhsuk-button" type="submit">Save and continue</button>
    <a class="nhsuk-link nhsuk-link--no-visited-state" href="/researcher/task-list">Return to task list</a>
  </div>
</form>
{% endblock %}
