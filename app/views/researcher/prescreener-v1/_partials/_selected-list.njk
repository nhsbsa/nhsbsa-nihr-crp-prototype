{# Renders two lists: listed items and custom items with remove buttons #}
{% if listed and listed.length %}
  <h3 class="nhsuk-heading-s">Selected items ({{ listed.length }})</h3>
  <ul class="nhsuk-list">
    {% for item, i in listed %}
      <li>
        <strong>{{ item.name }}</strong>
        <form action="{{ removeListedBase }}/{{ i }}" method="post" class="nhsuk-u-margin-top-2">
          <button class="nhsuk-button nhsuk-button--secondary" type="submit">Remove</button>
        </form>
        {% if includeAliases %}
          {% include "_partials/_aliases-input.njk" with { target: "listed", index: i, value: item.aliases | join(", ") } %}
        {% endif %}
      </li>
    {% endfor %}
  </ul>
{% endif %}

{% if custom and custom.length %}
  <h3 class="nhsuk-heading-s">Non-listed items ({{ custom.length }})</h3>
  <ul class="nhsuk-list">
    {% for item, i in custom %}
      <li>
        <strong>{{ item.name or item }}</strong>
        <form action="{{ removeCustomBase }}/{{ i }}" method="post" class="nhsuk-u-margin-top-2">
          <button class="nhsuk-button nhsuk-button--secondary" type="submit">Remove</button>
        </form>
        {% if includeAliases %}
          {% include "_partials/_aliases-input.njk" with { target: "custom", index: i, value: (item.aliases or []) | join(", ") } %}
        {% endif %}
      </li>
    {% endfor %}
  </ul>
{% endif %}
